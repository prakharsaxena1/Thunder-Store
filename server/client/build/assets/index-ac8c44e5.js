import{f as p,a as r,j as i,m as y,r as f,F as b,L as x}from"./index-c532219d.js";import{d as T}from"./ExpandMore-c9f5f3ac.js";import{d as h}from"./dayjs.min-5ae63d11.js";import{T as v}from"./index-a2692f30.js";import{I as A}from"./index-43b592c3.js";import{B as m}from"./Box-468bb675.js";import{A as O,a as B,b as $}from"./AccordionSummary-cf7a2d84.js";import{G as n}from"./Grid-b8fb3a11.js";import{T as a}from"./Typography-cb50676a.js";import{T as L,a as N,b as j,c as u,d as o,e as w}from"./TableRow-d8305a28.js";import{O as D}from"./orders.api-db5d74d7.js";import"./jsx-runtime_commonjs-proxy-6abecf05.js";import"./createSvgIcon-bfe4a7b4.js";import"./ButtonBase-c29cbbf3.js";import"./Paper-09fff5fc.js";import"./utils-42395edc.js";const F=({order:e})=>{const t=e.status==="delivered"?`Delivered ${h(e.updatedAt).format(p.full)}`:"Not delivered",{products:s}=e;return r(m,{sx:{m:1},children:i(O,{children:[r(B,{expandIcon:r(T,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:i(n,{container:!0,spacing:1,children:[r(n,{item:!0,xs:12,sm:12,md:5,lg:5,children:r(a,{variant:"body2",component:"p",children:`Order #${e._id}`})}),r(n,{item:!0,xs:12,sm:12,md:5,lg:5,children:r(a,{variant:"body2",component:"p",children:`Ordered on ${h(e.createdAt).format(p.full)}`})}),r(n,{item:!0,xs:12,sm:12,md:2,lg:3,children:r(a,{variant:"body2",component:"p",children:t})})]})}),i($,{children:[r(a,{variant:"body2",component:"p",gutterBottom:!0,children:`Address: ${e.shipTo}`}),r(a,{variant:"body2",component:"p",gutterBottom:!0,children:`Total: ${e.totalAmount}`}),r(L,{children:i(N,{children:[r(j,{children:i(u,{children:[r(o,{component:"th",scope:"row",children:"Product"}),r(o,{align:"center",children:"Quantity"}),r(o,{align:"center",children:"Price"})]})}),r(w,{children:s.map((d,c)=>{const l=d.product;return i(u,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[r(o,{children:i(n,{container:!0,spacing:2,children:[r(n,{item:!0,xs:12,sm:12,md:2,lg:2,children:r(A,{image:l.images[0]})}),r(n,{item:!0,xs:12,sm:12,md:10,lg:10,children:r(v,{productTitle:l.title})})]})}),r(o,{align:"center",children:d.qty}),r(o,{align:"center",children:d.pricePaid})]},c)})})]})}),r(a,{variant:"body2",component:"p",gutterBottom:!0,children:`Paid by ${e.payment.cardName} with card ${y(e.payment.cardNumber.toString())}`})]})]})})},M=()=>{var c;const[e,{data:t,isLoading:s,isFetching:d}]=D.useLazyGetOrdersByUserQuery();return f.useEffect(()=>{e(null,!0)},[]),i(b,{children:[i(m,{sx:{p:2,width:{sm:"90%",md:"80%",lg:"70%"},m:"1rem auto"},children:[r(a,{variant:"h3",component:"h3",children:"Orders"}),i(m,{sx:{p:2},children:[t&&((c=t==null?void 0:t.orders)==null?void 0:c.map((l,g)=>r(F,{order:l},g))),t&&(t==null?void 0:t.orders.length)===0&&r(a,{variant:"h4",component:"h4",align:"center",children:"No orders available"})]})]}),(s||d)&&r(x,{})]})};export{M as default};
